# CodeSandbox

[![Release](https://img.shields.io/github/v/release/fcarli/CodeSandbox)](https://img.shields.io/github/v/release/fcarli/CodeSandbox)
[![Build status](https://img.shields.io/github/actions/workflow/status/fcarli/CodeSandbox/main.yml?branch=main)](https://github.com/fcarli/CodeSandbox/actions/workflows/main.yml?query=branch%3Amain)
[![Commit activity](https://img.shields.io/github/commit-activity/m/fcarli/CodeSandbox)](https://img.shields.io/github/commit-activity/m/fcarli/CodeSandbox)
[![License](https://img.shields.io/github/license/fcarli/CodeSandbox)](https://img.shields.io/github/license/fcarli/CodeSandbox)

**CodeSandbox** is a fast, secure, and practical Python sandbox designed specifically for safely executing code generated by Large Language Models (LLMs). It provides a robust containerized environment that isolates code execution while maintaining high performance and ease of use.

## üéØ Purpose

When working with LLMs that generate Python code, safety and reliability are paramount. CodeSandbox addresses the critical need for:

- **Safe execution** of untrusted code generated by AI models
- **Isolated environment** that prevents system contamination
- **Consistent runtime** with pre-installed dependencies
- **Structured output** with proper error handling and JSON responses
- **Resource management** with execution timeouts and limits

## ‚ú® Key Features

### üîí Security First
- **Complete isolation** through Docker containerization
- **No network access** during code execution
- **Restricted file system** access
- **Safe execution** of potentially malicious code

### ‚ö° Performance Optimized
- **Fast startup times** with optimized container images
- **Minimal overhead** for code execution
- **Efficient resource usage** with proper limits
- **Quick build process** with caching strategies

### üõ†Ô∏è Developer Friendly
- **Simple API** for code execution
- **Structured JSON output** for easy parsing
- **Comprehensive error handling** with detailed diagnostics
- **Multiple input methods** (stdin, environment variables)
- **Pre-installed dependencies** (NumPy, Pandas, and more)

### üîß Flexible Integration
- **Easy Docker deployment** with automated builds
- **Environment variable support** for dynamic code execution
- **Configurable timeouts** and resource limits
- **Extensible dependency management** through pyproject.toml

## üöÄ Quick Start

### Basic Usage

Execute Python code via stdin:
```bash
echo 'print("Hello from CodeSandbox!")' | docker run --rm -i codesandbox:latest
```

Execute code via environment variable:
```bash
docker run --rm -e PYTHON_CODE="print('Hello World!')" codesandbox:latest
```

### Working with Dependencies

CodeSandbox comes with popular data science libraries pre-installed:

```bash
cat << 'EOF' | docker run --rm -i codesandbox:latest
import numpy as np
import pandas as pd

# NumPy operations
arr = np.array([1, 2, 3, 4, 5])
print(f"Array mean: {np.mean(arr)}")

# Pandas operations
df = pd.DataFrame({'A': [1, 2, 3], 'B': [4, 5, 6]})
print(f"DataFrame:\n{df}")
EOF
```

## üìã Output Format

All executions return structured JSON output containing:

- **stdout**: Standard output from the executed code
- **stderr**: Error messages and warnings
- **exit_code**: Execution result status
- **execution_time**: Time taken to execute the code
- **error**: Detailed error information when applicable

Example output:
```json
{
  "stdout": "Hello from CodeSandbox!\n",
  "stderr": "",
  "exit_code": 0,
  "execution_time": 0.045
}
```

## üèóÔ∏è Architecture

CodeSandbox is built with a clean architecture that separates concerns:

- **Core Library** (`codesandbox/`): Python package with the main functionality
- **Docker Environment** (`python_docker/`): Containerized execution environment
- **Build System**: Automated image building and dependency management
- **Testing Suite**: Comprehensive tests for all functionality

## üéØ Use Cases

### LLM Integration
Perfect for integrating with AI coding assistants, chatbots, and automated code generation systems that need to execute Python code safely.

### Educational Platforms
Ideal for online learning platforms that need to run student-submitted code in a secure environment.

### Code Validation
Excellent for automated testing and validation of generated code snippets.

### Research & Development
Great for researchers working with AI-generated code who need reliable execution environments.

## üõ°Ô∏è Security Considerations

CodeSandbox is designed with security as a first-class concern:

- **Containerized execution** prevents access to the host system
- **No network access** during code execution
- **Resource limits** prevent resource exhaustion attacks
- **Timeout controls** prevent infinite loops
- **Isolated file system** prevents data leakage

## üìö Documentation

- [Docker Image Setup](docker-setup.md) - Complete guide for building and configuring the Docker environment
- [API Reference](modules.md) - Detailed API documentation
- [Contributing Guide](https://github.com/fcarli/CodeSandbox/blob/main/CONTRIBUTING.md) - How to contribute to the project

## üîó Links

- **GitHub Repository**: [https://github.com/fcarli/CodeSandbox/](https://github.com/fcarli/CodeSandbox/)
- **PyPI Package**: [https://pypi.org/project/CodeSandbox/](https://pypi.org/project/CodeSandbox/)
- **Issues & Support**: [https://github.com/fcarli/CodeSandbox/issues](https://github.com/fcarli/CodeSandbox/issues)

---

*CodeSandbox: Safe, fast, and reliable Python code execution for the AI era.*
